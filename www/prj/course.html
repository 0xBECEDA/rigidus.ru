<!DOCTYPE html>
<html>
<head>
<title>Изучи программирование за 21 год</title>
<meta  charset="utf-8">
<meta  name="generator" content="Org-mode">
<meta  name="author" content="rigidus">
<link href="/css/style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="content">
<h1 class="title">Изучи программирование за 21 год</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">Интро</a></li>
<li><a href="#sec-2">Прикосновение к магии</a>
<ul>
<li><a href="#sec-2-1">Hello World</a></li>
<li><a href="#sec-2-2">Транслятор кода Морзе</a></li>
<li><a href="#sec-2-3">HTML и CSS</a></li>
</ul>
</li>
<li><a href="#sec-3">Создание игры на Java</a></li>
<li><a href="#sec-4">Низкоуровневое программирование</a>
<ul>
<li><a href="#sec-4-1">Стек и вызов процедур</a>
<ul>
<li><a href="#sec-4-1-1">Пролог и эпилог функции</a></li>
</ul>
</li>
<li><a href="#sec-4-2">Указатели</a>
<ul>
<li><a href="#sec-4-2-1">Транслятор кода Морзе на Ассемблере</a></li>
<li><a href="#sec-4-2-2">Эквивалентность программ</a></li>
</ul>
</li>
<li><a href="#sec-4-3">Взамодействие с операционной системой</a></li>
<li><a href="#sec-4-4">Ввод-вывод</a>
<ul>
<li><a href="#sec-4-4-1">Интепретатор команд</a></li>
</ul>
</li>
<li><a href="#sec-4-5">Обработка прерываний</a></li>
<li><a href="#sec-4-6">Оверлеи</a></li>
<li><a href="#sec-4-7">Разделяемые библиотеки</a></li>
<li><a href="#sec-4-8">Компоновка</a></li>
<li><a href="#sec-4-9">Системы сборки</a></li>
<li><a href="#sec-4-10">Зависимости</a></li>
</ul>
</li>
<li><a href="#sec-5">Обратная инженерия</a>
<ul>
<li><a href="#sec-5-1">Дизассемблирование</a></li>
<li><a href="#sec-5-2">Взлом нашего интепретатора команд</a></li>
<li><a href="#sec-5-3">Детектирование отладчика</a></li>
<li><a href="#sec-5-4">Инструментирование кода</a></li>
<li><a href="#sec-5-5">Перехват вызовов</a></li>
<li><a href="#sec-5-6">Инструменты анализа систем</a>
<ul>
<li><a href="#sec-5-6-1">ESIL</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6">Построение высокоуровнего языка</a>
<ul>
<li><a href="#sec-6-1">Минимальный Forth</a></li>
<li><a href="#sec-6-2">Объектная система</a></li>
<li><a href="#sec-6-3">Сборка мусора</a></li>
<li><a href="#sec-6-4">Выращиваем Lisp</a></li>
<li><a href="#sec-6-5">Построение отладчика-эмулятора</a></li>
<li><a href="#sec-6-6">Построение трассировщика</a></li>
<li><a href="#sec-6-7">Декомпиляция и автоматический анализ</a></li>
<li><a href="#sec-6-8">Суперкомпиляция</a></li>
</ul>
</li>
<li><a href="#sec-7">Типизация</a>
<ul>
<li><a href="#sec-7-1">Сильная/слабая</a></li>
<li><a href="#sec-7-2">Строгая/нестрогая</a></li>
<li><a href="#sec-7-3">Вывод типов</a></li>
</ul>
</li>
<li><a href="#sec-8">Императивные парадигмы</a>
<ul>
<li><a href="#sec-8-1">Процедурная</a></li>
<li><a href="#sec-8-2">модульная</a></li>
<li><a href="#sec-8-3">объектно-ориентированная</a></li>
</ul>
</li>
<li><a href="#sec-9">Механизмы абстракции</a>
<ul>
<li><a href="#sec-9-1">Кольцевой буфер</a></li>
<li><a href="#sec-9-2">Потоки</a></li>
<li><a href="#sec-9-3">Очереди сообщений</a></li>
<li><a href="#sec-9-4">Машины состояний</a></li>
<li><a href="#sec-9-5">Модель взаимодействующих акторов</a></li>
<li><a href="#sec-9-6">Сигналы</a></li>
</ul>
</li>
<li><a href="#sec-10">Функциональное программирование</a>
<ul>
<li><a href="#sec-10-1">Код как данные</a></li>
<li><a href="#sec-10-2">Рекурсия</a></li>
<li><a href="#sec-10-3">Функции высшего порядка</a></li>
<li><a href="#sec-10-4">Чистота</a></li>
<li><a href="#sec-10-5">Ленивость.</a></li>
<li><a href="#sec-10-6">Реактивность</a></li>
</ul>
</li>
<li><a href="#sec-11">Рантайм</a>
<ul>
<li><a href="#sec-11-1">Менеджер памяти и умные указатели</a></li>
<li><a href="#sec-11-2">Сборка мусора</a></li>
<li><a href="#sec-11-3">Зеленые потоки</a></li>
<li><a href="#sec-11-4">Супервайзинг</a></li>
</ul>
</li>
<li><a href="#sec-12">Логическое программирование</a></li>
<li><a href="#sec-13">Пролог</a></li>
<li><a href="#sec-14">Рефал</a></li>
<li><a href="#sec-15">Forth</a></li>
<li><a href="#sec-16">Визуальное программирование</a>
<ul>
<li><a href="#sec-16-1">Дракон</a></li>
</ul>
</li>
<li><a href="#sec-17">Написание языков и виртуальных машин</a>
<ul>
<li><a href="#sec-17-1">Создание компилятора</a></li>
<li><a href="#sec-17-2">Написание среды времени выполнения</a></li>
</ul>
</li>
<li><a href="#sec-18">Распределенные системы</a>
<ul>
<li><a href="#sec-18-1">Топология сетей</a></li>
</ul>
</li>
<li><a href="#sec-19">Самообучающиеся системы</a>
<ul>
<li><a href="#sec-19-1">Линейная регрессия</a></li>
<li><a href="#sec-19-2">Кластеризация</a></li>
<li><a href="#sec-19-3">Деревья решений</a></li>
<li><a href="#sec-19-4">Нейронные сети и их обучение</a></li>
<li><a href="#sec-19-5">Динамическое программирование</a></li>
<li><a href="#sec-19-6">Генетическое программирование</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1">Интро</h2>
<div class="outline-text-2" id="text-1">
<p>
Этот курс задуман как несколько более фундаментальный, чем обычно предлагаемые курсы,
так что у него даже есть неофициальное название "Изучи программирование за 21 год".
</p>

<p>
Материалы и план курса сформированы но уточняются и дополняются. Ожидается, что курс
будет рассматривать все вопросы программирования от архитектуры низкоуровневых средств
до абстракций лямбда-исчисления.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2">Прикосновение к магии</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1">Hello World</h3>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2">Транслятор кода Морзе</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Первая осмысленная программа в процедурном стиле.
</p>

<div class="org-src-container">

<pre class="src src-js"><span style="color: #a020f0;">var</span> <span style="color: #a0522d;">array</span> =[
  [<span style="color: #8b2252;">'a'</span>,<span style="color: #8b2252;">'._'</span>],
  [<span style="color: #8b2252;">'b'</span>,<span style="color: #8b2252;">'1'</span>],
  [<span style="color: #8b2252;">'c'</span>,<span style="color: #8b2252;">'2'</span>],
  [<span style="color: #8b2252;">'d'</span>,<span style="color: #8b2252;">'3'</span>],
  [<span style="color: #8b2252;">'e'</span>,<span style="color: #8b2252;">'4'</span>],
  [<span style="color: #8b2252;">'f'</span>,<span style="color: #8b2252;">'5'</span>],
  [<span style="color: #8b2252;">'g'</span>,<span style="color: #8b2252;">'6'</span>],
  [<span style="color: #8b2252;">'h'</span>,<span style="color: #8b2252;">'7'</span>],
  [<span style="color: #8b2252;">'i'</span>,<span style="color: #8b2252;">'8'</span>],
  [<span style="color: #8b2252;">'j'</span>,<span style="color: #8b2252;">'9'</span>],
  [<span style="color: #8b2252;">'k'</span>,<span style="color: #8b2252;">'a'</span>],
  [<span style="color: #8b2252;">'l'</span>,<span style="color: #8b2252;">'b'</span>],
  [<span style="color: #8b2252;">'m'</span>,<span style="color: #8b2252;">'__'</span>],
  [<span style="color: #8b2252;">'n'</span>,<span style="color: #8b2252;">'_.'</span>],
  [<span style="color: #8b2252;">'o'</span>,<span style="color: #8b2252;">'d'</span>],
  [<span style="color: #8b2252;">'p'</span>,<span style="color: #8b2252;">'e'</span>],
  [<span style="color: #8b2252;">'q'</span>,<span style="color: #8b2252;">'f'</span>],
  [<span style="color: #8b2252;">'r'</span>,<span style="color: #8b2252;">'g'</span>],
  [<span style="color: #8b2252;">'s'</span>,<span style="color: #8b2252;">'h'</span>],
  [<span style="color: #8b2252;">'t'</span>,<span style="color: #8b2252;">'_'</span>],
  [<span style="color: #8b2252;">'u'</span>,<span style="color: #8b2252;">'j'</span>],
  [<span style="color: #8b2252;">'v'</span>,<span style="color: #8b2252;">'k'</span>],
  [<span style="color: #8b2252;">'w'</span>,<span style="color: #8b2252;">'l'</span>],
  [<span style="color: #8b2252;">'x'</span>,<span style="color: #8b2252;">'m'</span>],
  [<span style="color: #8b2252;">'y'</span>,<span style="color: #8b2252;">'n'</span>],
  [<span style="color: #8b2252;">'z'</span>,<span style="color: #8b2252;">'o'</span>]
];



<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">binary_search</span> (<span style="color: #a0522d;">data</span>, <span style="color: #a0522d;">target</span>, <span style="color: #a0522d;">start</span>, <span style="color: #a0522d;">end</span>) {
  console.log(<span style="color: #8b2252;">"target="</span>+target);
  console.log(<span style="color: #8b2252;">"start="</span>+start);
  console.log(<span style="color: #8b2252;">"end="</span>+end);

  <span style="color: #a020f0;">if</span> (end &lt; data[0]) {
    console.log(<span style="color: #8b2252;">"return 1"</span>);
    <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">false</span>;
  }

  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1053;&#1072;&#1093;&#1086;&#1076;&#1080;&#1084; &#1089;&#1088;&#1077;&#1076;&#1085;&#1077;&#1077; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1077;</span>
  <span style="color: #a020f0;">const</span> <span style="color: #a0522d;">middle</span> = Math.floor(start + (end - start) / 2);
  console.log(middle);
  console.log(data[middle][0]);
  console.log(target);
  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1045;&#1089;&#1083;&#1080; &#1089;&#1086;&#1076;&#1077;&#1088;&#1078;&#1080;&#1084;&#1086;&#1077; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072; &#1089; &#1080;&#1085;&#1076;&#1077;&#1082;&#1089;&#1086;&#1084;, &#1088;&#1072;&#1074;&#1085;&#1099;&#1084; &#1089;&#1088;&#1077;&#1076;&#1085;&#1077;&#1084;&#1091; &#1079;&#1085;&#1072;&#1095;&#1077;&#1085;&#1080;&#1102; &#1086;&#1082;&#1072;&#1079;&#1072;&#1083;&#1086;&#1089;&#1100; &#1088;&#1072;&#1074;&#1085;&#1086; target</span>

  <span style="color: #a020f0;">if</span> (target === data[middle][0]) {
    <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
    console.log(<span style="color: #8b2252;">"return found"</span>);
    <span style="color: #a020f0;">return</span> data[middle][1];
  }

  <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1045;&#1089;&#1083;&#1080; &#1086;&#1089;&#1090;&#1072;&#1083;&#1086;&#1089;&#1100; &#1076;&#1074;&#1072; &#1101;&#1083;&#1077;&#1084;&#1077;&#1085;&#1090;&#1072;: &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; start &#1080; &#1085;&#1072; &#1082;&#1086;&#1090;&#1086;&#1088;&#1099;&#1081; &#1091;&#1082;&#1072;&#1079;&#1099;&#1074;&#1072;&#1077;&#1090; end</span>
  <span style="color: #a020f0;">if</span> (data[end] - 1 === data[start]) {
    <span style="color: #a020f0;">if</span> (target === data[end][0]) {
      <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
      console.log(<span style="color: #8b2252;">"return from found on end"</span>);
      <span style="color: #a020f0;">return</span> data[end][1];
    }
    <span style="color: #a020f0;">if</span> (target === data[start][0]) {
      <span style="color: #b22222;">// </span><span style="color: #b22222;">&#1074;&#1086;&#1079;&#1074;&#1088;&#1072;&#1097;&#1072;&#1077;&#1084; &#1089;&#1086;&#1086;&#1090;&#1074;&#1077;&#1090;&#1089;&#1090;&#1074;&#1080;&#1077;</span>
      console.log(<span style="color: #8b2252;">"return from found on start"</span>);
      <span style="color: #a020f0;">return</span> data[start][1];
    }
    console.log(<span style="color: #8b2252;">"return 2"</span>);
    <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">false</span>;
  }

  <span style="color: #a020f0;">if</span> (target.charCodeAt() &gt; data[middle][0].charCodeAt()) {
    console.log(<span style="color: #8b2252;">"we need to go deeper! &gt;"</span>);
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">pre_result</span> = binary_search(data, target, middle, end);
    console.log(<span style="color: #8b2252;">"return from found on &gt;"</span>);
    <span style="color: #a020f0;">return</span> pre_result;
  }

  <span style="color: #a020f0;">if</span> (target.charCodeAt() &lt; data[middle][0].charCodeAt()) {
    console.log(<span style="color: #8b2252;">"we need to go deeper! &lt;"</span>);
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">pre_result</span> = binary_search(data, target, start, middle);
    console.log(<span style="color: #8b2252;">"return from found on &lt;"</span>);
    <span style="color: #a020f0;">return</span> pre_result;
  }
  console.log(<span style="color: #8b2252;">"return 3"</span>);
  <span style="color: #a020f0;">return</span> <span style="color: #008b8b;">false</span>;
}

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">helper</span> () {
  <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">getText</span> = document.getElementById(<span style="color: #8b2252;">'translate'</span>);
  console.log(<span style="color: #8b2252;">"getText="</span>+document.getElementById(<span style="color: #8b2252;">'translate'</span>));
  <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">param</span> = getText.value;
  console.log(<span style="color: #8b2252;">"param="</span>+param);
  document.getElementById(<span style="color: #8b2252;">'Translate_ready'</span>).value = translate(param);

}

<span style="color: #a020f0;">function</span> <span style="color: #0000ff;">translate</span> (<span style="color: #a0522d;">param</span>) {
 <span style="color: #a020f0;">return</span> param.split(<span style="color: #8b2252;">''</span>).map(<span style="color: #a020f0;">function</span>(<span style="color: #a0522d;">symbol</span>) {
    <span style="color: #a020f0;">var</span> <span style="color: #a0522d;">result_value</span> = binary_search(array, symbol, 0, array.length-1);
    <span style="color: #a020f0;">if</span> (<span style="color: #008b8b;">false</span> === result_value) {
      alert(<span style="color: #8b2252;">"something wrong"</span>);
    }
    <span style="color: #a020f0;">return</span> result_value;
  });
}

<span style="color: #b22222;">// </span><span style="color: #b22222;">var return_value = translate('abc');</span>
<span style="color: #b22222;">// </span><span style="color: #b22222;">console.log("translate result is " + return_value);</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3">HTML и CSS</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Декларативные языки разметки
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3">Создание игры на Java</h2>
<div class="outline-text-2" id="text-3">
<p>
Этот интенсив рассчитан на 3-5 дней. За это время мы создаем простую игру <a href="https://ru.wikipedia.org/wiki/Breakout_(%D0%B8%D0%B3%D1%80%D0%B0)">Breakout</a>
(<a href="https://ru.wikipedia.org/wiki/Arkanoid">Arkanoid</a>) с использованием <code>JavaSE</code> и графической библиотеки <code>libGDX</code>.
</p>

<p>
Геймплей: Игрок контролирует небольшую платформу-ракетку, которую можно передвигать
горизонтально от одной стенки до другой, подставляя её под шарик, предотвращая его
падение вниз. Удар шарика по кирпичу приводит к разрушению кирпича.
</p>

<ul class="org-ul">
<li><a href="../lrn/java/setup.html">Установка всего необходимого</a>
</li>
<li><a href="../lrn/java/gameclass.html">Анализируем MyGdxGame</a>
</li>
<li><a href="../lrn/java/control.html">Управление и физика</a>
</li>
<li><a href="../lrn/java/bricks.html">Разбиваемые элементы</a>
</li>
<li><a href="../lrn/java/platform.html">Платформа</a>
</li>
<li><a href="../lrn/java/endgame.html">Завершение игры</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4">Низкоуровневое программирование</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1">Стек и вызов процедур</h3>
<div class="outline-text-3" id="text-4-1">
</div><div id="outline-container-sec-4-1-1" class="outline-4">
<h4 id="sec-4-1-1">Пролог и эпилог функции</h4>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2">Указатели</h3>
<div class="outline-text-3" id="text-4-2">
</div><div id="outline-container-sec-4-2-1" class="outline-4">
<h4 id="sec-4-2-1">Транслятор кода Морзе на Ассемблере</h4>
<div class="outline-text-4" id="text-4-2-1">
</div><ul class="org-ul"><li><a id="sec-4-2-1-1" name="sec-4-2-1-1"></a>Табличный перекодировщик<br ><div class="outline-text-5" id="text-4-2-1-1">
<p>
Работа с массивом структур, содержащих указатели
</p>

<div class="org-src-container">

<pre class="src src-asm"><span style="color: #0000ff;">a</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_."</span>
    <span style="color: #a020f0;">.byte</span> 0
<span style="color: #0000ff;">b</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_..."</span>
<span style="color: #0000ff;">c</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_._."</span>
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"AAAA"</span>
<span style="color: #0000ff;">table</span>:
<span style="color: #0000ff;">table_a</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"a"</span>
    <span style="color: #a020f0;">.int</span> a
<span style="color: #0000ff;">table_b</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"b"</span>
    <span style="color: #a020f0;">.int</span> b
<span style="color: #0000ff;">table_c</span>:
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"c"</span>
    <span style="color: #a020f0;">.int</span> c
</pre>
</div>
</div>
</li>

<li><a id="sec-4-2-1-2" name="sec-4-2-1-2"></a>Списковый перекодировщик<br ><div class="outline-text-5" id="text-4-2-1-2">
<p>
Работа со списком структур, содержащих указатели
</p>

<div class="org-src-container">

<pre class="src src-asm"><span style="color: #0000ff;">a</span>:
    <span style="color: #a020f0;">.int</span> 0
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"a"</span>
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_."</span>
    <span style="color: #a020f0;">.byte</span> 0
<span style="color: #0000ff;">b</span>:
    <span style="color: #a020f0;">.int</span> a
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"b"</span>
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_..."</span>
    <span style="color: #a020f0;">.byte</span> 0
<span style="color: #0000ff;">c</span>:
    <span style="color: #a020f0;">.int</span> b
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"c"</span>
    <span style="color: #a020f0;">.ascii</span> <span style="color: #8b2252;">"_._."</span>
    <span style="color: #a020f0;">.byte</span> 0
<span style="color: #0000ff;">last</span>:
    <span style="color: #a020f0;">int</span> c
</pre>
</div>
</div>
</li></ul>
</div>

<div id="outline-container-sec-4-2-2" class="outline-4">
<h4 id="sec-4-2-2">Эквивалентность программ</h4>
<div class="outline-text-4" id="text-4-2-2">
<ul class="org-ul">
<li>Построение трасс
</li>
<li>Эквивалентность по трассам
</li>
<li>Обратная трассировка
</li>
<li>Построение остаточной программы из заданной точки графа управления
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3">Взамодействие с операционной системой</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li><a href="../lrn/asm/cmd.html">Анализ ассемблирования и сборки Linux-программы</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4">Ввод-вывод</h3>
<div class="outline-text-3" id="text-4-4">
</div><div id="outline-container-sec-4-4-1" class="outline-4">
<h4 id="sec-4-4-1">Интепретатор команд</h4>
<div class="outline-text-4" id="text-4-4-1">
<div class="org-src-container">

<pre class="src src-c"><span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;stdio.h&gt;</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;string.h&gt;</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;stdlib.h&gt;</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;time.h&gt;</span>
<span style="color: #483d8b;">#include</span> <span style="color: #8b2252;">&lt;SDL2/SDL.h&gt;</span>

<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">QUEUE_SIZE</span> 400
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">LEFT</span>  1
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">UP</span>    2
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">DOWN</span>  3
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">RIGHT</span> 4
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">MAX_X</span> 24
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">MAX_Y</span> 14
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">TILE_SIZE</span> 32
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">SIZE_OF_COMMAND_NAME</span> 10
<span style="color: #483d8b;">#define</span> <span style="color: #a0522d;">FOR_ALL_COMMAND</span> <span style="color: #a020f0;">for</span> (<span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>=0; i&lt;(<span style="color: #a020f0;">sizeof</span>(cmds)/<span style="color: #a020f0;">sizeof</span>(<span style="color: #a020f0;">struct</span> <span style="color: #228b22;">command</span>)); i++)

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">exit_flag</span> = 0;
<span style="color: #228b22;">int</span> <span style="color: #a0522d;">cur_priv_lvl</span>  = 0;

<span style="color: #a020f0;">typedef</span> <span style="color: #228b22;">void</span> (*<span style="color: #228b22;">pcmd</span>)();

<span style="color: #a020f0;">struct</span> <span style="color: #228b22;">command</span> {
    <span style="color: #228b22;">int</span>  <span style="color: #a0522d;">active</span>;
    <span style="color: #228b22;">int</span>  <span style="color: #a0522d;">privileged</span>;
    <span style="color: #228b22;">int</span>  <span style="color: #a0522d;">num</span>;
    <span style="color: #228b22;">char</span> <span style="color: #a0522d;">name</span>[SIZE_OF_COMMAND_NAME];
    <span style="color: #228b22;">void</span> (*<span style="color: #0000ff;">pf</span>)();
};

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">game</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">hello</span>();
<span style="color: #228b22;">pcmd</span> <span style="color: #0000ff;">get_command</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">login</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">badcmd</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">quit</span>();
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">badcmd</span>() {    printf(<span style="color: #8b2252;">"error: bad command or low privilegies\n"</span>); }
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">quit</span>()   {    exit_flag = 1; }

<span style="color: #a020f0;">struct</span> <span style="color: #228b22;">command</span> <span style="color: #a0522d;">cmds</span>[] = {
    {1,0,1,<span style="color: #8b2252;">"quit"</span>,  &amp;quit  },
    {1,0,2,<span style="color: #8b2252;">"login"</span>, &amp;login },
    {1,1,5,<span style="color: #8b2252;">"game"</span>,  &amp;game  }
};

<span style="color: #228b22;">char</span> <span style="color: #a0522d;">log_ok</span>[] = <span style="color: #8b2252;">"success: you are logged"</span>;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">login</span>() {
    <span style="color: #228b22;">char</span> <span style="color: #a0522d;">passbuf</span>[50];
    puts(<span style="color: #8b2252;">"enter password:"</span>);
    gets(passbuf);
    <span style="color: #a020f0;">if</span> (0 == strcmp(passbuf, log_ok+19)) {
        cur_priv_lvl = 1;
        puts(log_ok);
    } <span style="color: #a020f0;">else</span> {
        puts(<span style="color: #8b2252;">"error: wrong password"</span>);
    }
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">hello</span>() {
    printf(<span style="color: #8b2252;">"available comands:\n- for logged users: "</span>);
    FOR_ALL_COMMAND
    {
        printf(<span style="color: #8b2252;">"%s, "</span>, cmds[i].name);
    }
    printf(<span style="color: #8b2252;">"\n- for unprivileged users: "</span>);
    FOR_ALL_COMMAND
    {
        <span style="color: #a020f0;">if</span> (0 == cmds[i].privileged) { printf(<span style="color: #8b2252;">"%s, "</span>, cmds[i].name); }
    }
    puts(<span style="color: #8b2252;">""</span>);
}

<span style="color: #228b22;">pcmd</span> <span style="color: #0000ff;">get_command</span>() {
    <span style="color: #228b22;">char</span> <span style="color: #a0522d;">cmdbuf</span>[50];
    puts(<span style="color: #8b2252;">"enter your command here:"</span>);
    gets(cmdbuf);
    FOR_ALL_COMMAND
    {
        <span style="color: #a020f0;">if</span> (cmds[i].privileged &lt;= cur_priv_lvl) {
            <span style="color: #a020f0;">if</span> (0 == strcmp(cmdbuf, cmds[i].name)) {
                <span style="color: #a020f0;">return</span> cmds[i].pf;
            }
        }
    }
    <span style="color: #a020f0;">return</span> &amp;badcmd;
}

<span style="color: #228b22;">int</span> <span style="color: #0000ff;">main</span>(<span style="color: #228b22;">int</span> <span style="color: #a0522d;">argc</span>, <span style="color: #228b22;">char</span>** <span style="color: #a0522d;">argv</span>)
{
    hello();
    <span style="color: #a020f0;">while</span>(0 == exit_flag) {
        (get_command())();
    }
}


<span style="color: #b22222;">////////////////////////////////////////////////////////////////////</span>



<span style="color: #228b22;">char</span> <span style="color: #a0522d;">dir</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">old_dir</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">eaten</span>;
<span style="color: #228b22;">char</span> <span style="color: #a0522d;">mat</span>[MAX_X+1][MAX_Y+1];

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">delay</span> = 16;

<span style="color: #a020f0;">typedef</span> <span style="color: #a020f0;">struct</span> <span style="color: #228b22;">tag_node</span> {
    <span style="color: #228b22;">char</span> <span style="color: #a0522d;">x</span>;
    <span style="color: #228b22;">char</span> <span style="color: #a0522d;">y</span>;
} <span style="color: #228b22;">node</span>;

<span style="color: #228b22;">node</span> <span style="color: #a0522d;">body</span>;
<span style="color: #228b22;">node</span> <span style="color: #a0522d;">head</span>;
<span style="color: #228b22;">node</span> <span style="color: #a0522d;">tail</span>;
<span style="color: #228b22;">node</span> <span style="color: #a0522d;">fruit</span>;

<span style="color: #a020f0;">typedef</span> <span style="color: #a020f0;">struct</span> <span style="color: #228b22;">tag_queue</span> {
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">first</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">last</span>;
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">len</span>;
    <span style="color: #228b22;">node</span> <span style="color: #a0522d;">elems</span>[QUEUE_SIZE];
} <span style="color: #228b22;">queue</span>;

<span style="color: #228b22;">queue</span> <span style="color: #a0522d;">snake</span>;

<span style="color: #228b22;">SDL_Renderer</span>* <span style="color: #a0522d;">renderer</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Surface</span>*  <span style="color: #a0522d;">field_surface</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Surface</span>*  <span style="color: #a0522d;">fruit_surface</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Surface</span>*  <span style="color: #a0522d;">shead_surface</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Surface</span>*  <span style="color: #a0522d;">snake_surface</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Texture</span>*  <span style="color: #a0522d;">field_texture</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Texture</span>*  <span style="color: #a0522d;">fruit_texture</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Texture</span>*  <span style="color: #a0522d;">shead_texture</span> = <span style="color: #008b8b;">NULL</span>;
<span style="color: #228b22;">SDL_Texture</span>*  <span style="color: #a0522d;">snake_texture</span> = <span style="color: #008b8b;">NULL</span>;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">init</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">input</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">int</span>  <span style="color: #0000ff;">update</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">render</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">pop_tail</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">push_head</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_body</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_head</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_fruit</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">clear_tail</span>(<span style="color: #228b22;">void</span>);
<span style="color: #228b22;">void</span> <span style="color: #0000ff;">next_fruit</span>(<span style="color: #228b22;">void</span>);

<span style="color: #228b22;">int</span> <span style="color: #a0522d;">run_snake</span> = 0;

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">game</span>() {
    <span style="color: #228b22;">int</span> <span style="color: #a0522d;">i</span>, <span style="color: #a0522d;">j</span>;

    dir = 0;
    <span style="color: #a020f0;">for</span> (i = 0; i &lt;= MAX_X; i++) {
        <span style="color: #a020f0;">for</span> (j = 0; j &lt;= MAX_Y; j++) {
            mat[head.x][head.y] = 0;
        }
    }
    delay = 16;
    body.x = 0;
    body.y = 0;
    head.x = 0;
    head.y = 0;
    tail.x = 0;
    tail.y = 0;
    <span style="color: #a020f0;">for</span> (i = 0; i &lt;= QUEUE_SIZE; i++) {
        snake.elems[i].x = 0;
        snake.elems[i].y = 1;
    }

    <span style="color: #228b22;">SDL_Window</span> *<span style="color: #a0522d;">window</span> = <span style="color: #008b8b;">NULL</span>;
    <span style="color: #a020f0;">if</span> (SDL_Init(SDL_INIT_VIDEO) != 0) {
        fprintf(stderr, <span style="color: #8b2252;">"SDL_Init: %s\n"</span>, SDL_GetError());
    }
    atexit(SDL_Quit);
    SDL_CreateWindowAndRenderer(800, 480, 0, &amp;window, &amp;renderer);
    SDL_SetRenderDrawColor(renderer, 255, 255, 255, 255);
    SDL_RenderClear(renderer);
    SDL_RenderPresent(renderer);
    fruit_surface = SDL_LoadBMP(<span style="color: #8b2252;">"apple.bmp"</span>);
    shead_surface = SDL_LoadBMP(<span style="color: #8b2252;">"head.bmp"</span>);
    snake_surface = SDL_LoadBMP(<span style="color: #8b2252;">"snake.bmp"</span>);
    field_surface = SDL_LoadBMP(<span style="color: #8b2252;">"field.bmp"</span>);
    fruit_texture = SDL_CreateTextureFromSurface(renderer, fruit_surface);
    shead_texture = SDL_CreateTextureFromSurface(renderer, shead_surface);
    snake_texture = SDL_CreateTextureFromSurface(renderer, snake_surface);
    field_texture = SDL_CreateTextureFromSurface(renderer, field_surface);
    <span style="color: #a020f0;">for</span> (i = 0; i &lt;= MAX_X; i++) {
        <span style="color: #a020f0;">for</span> (j = 0; j &lt;= MAX_Y; j++) {
            tail.x = i;
            tail.y = j;
            clear_tail();
        }
    }

    snake.first = 0;
    snake.last = 0;
    snake.len = 0;
    <span style="color: #b22222;">// </span><span style="color: #b22222;">srand((unsigned) (NULL));</span>
    fruit.x = <span style="color: #b22222;">/*</span><span style="color: #b22222;">rand() % 16 +</span><span style="color: #b22222;">*/</span> 5;
    fruit.y = <span style="color: #b22222;">/*</span><span style="color: #b22222;">rand() % 6 +</span><span style="color: #b22222;">*/</span> 5;
    head = fruit;
    <span style="color: #a020f0;">if</span> (head.x &lt; (MAX_X / 2)) {
        dir = RIGHT;
    } <span style="color: #a020f0;">else</span> {
        dir = LEFT;
    }
    push_head();
    next_fruit();
    eaten = 1;
    old_dir = 0;
    printf(<span style="color: #8b2252;">"Level 1\n"</span>);

    render();
    run_snake = 1;
    <span style="color: #a020f0;">while</span> (run_snake == 1) {
        input();
        <span style="color: #a020f0;">if</span> (update()) {
            run_snake = 0;
            <span style="color: #a020f0;">goto</span> <span style="color: #008b8b;">zzz</span>;
        }
        render();
        SDL_Delay(<span style="color: #228b22;">delay</span> * 10);
    }
<span style="color: #008b8b;">zzz</span>:
    SDL_DestroyTexture(field_texture);
    SDL_DestroyTexture(snake_texture);
    SDL_DestroyTexture(shead_texture);
    SDL_DestroyTexture(fruit_texture);
    SDL_FreeSurface(field_surface);
    SDL_FreeSurface(snake_surface);
    SDL_FreeSurface(shead_surface);
    SDL_FreeSurface(fruit_surface);
    SDL_DestroyRenderer(renderer);
    SDL_DestroyWindow(window);
    SDL_Quit();
    printf(<span style="color: #8b2252;">"Snake Length: %d\n"</span>, snake.len);
    printf(<span style="color: #8b2252;">"Game Over\n"</span>);
}


<span style="color: #228b22;">void</span> <span style="color: #0000ff;">input</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #a020f0;">const</span> <span style="color: #228b22;">Uint8</span> *<span style="color: #a0522d;">state</span> = SDL_GetKeyboardState(<span style="color: #008b8b;">NULL</span>);
    SDL_PumpEvents();
    <span style="color: #a020f0;">if</span> (state[SDL_SCANCODE_UP]) {
        dir = UP;
    } <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (state[SDL_SCANCODE_DOWN]) {
        dir = DOWN;
    } <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (state[SDL_SCANCODE_LEFT]) {
        dir = LEFT;
    } <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (state[SDL_SCANCODE_RIGHT]) {
        dir = RIGHT;
    } <span style="color: #a020f0;">else</span> <span style="color: #a020f0;">if</span> (state[SDL_SCANCODE_ESCAPE]) {
        exit(0);
    }
    <span style="color: #b22222;">/* </span><span style="color: #b22222;">Ignore opposite direction </span><span style="color: #b22222;">*/</span>
    <span style="color: #a020f0;">if</span> (dir + old_dir != 5 || snake.len == 1) {
        old_dir = dir;
    } <span style="color: #a020f0;">else</span> {
        dir = old_dir;
    }
}

<span style="color: #228b22;">int</span> <span style="color: #0000ff;">update</span>(<span style="color: #228b22;">void</span>)
{
    body = head;
    <span style="color: #a020f0;">switch</span> (dir) {
    <span style="color: #a020f0;">case</span> UP:
        head.y = head.y - 1;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> DOWN:
        head.y = head.y + 1;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> LEFT:
        head.x = head.x - 1;
        <span style="color: #a020f0;">break</span>;
    <span style="color: #a020f0;">case</span> RIGHT:
        head.x = head.x + 1;
        <span style="color: #a020f0;">break</span>;
    }
    <span style="color: #a020f0;">if</span> (head.x &lt; 0 || head.x &gt; MAX_X || head.y &lt; 0 || head.y &gt; MAX_Y) {
        <span style="color: #a020f0;">return</span> 1;
    }
    <span style="color: #a020f0;">if</span> (mat[head.x][head.y]) {
        <span style="color: #a020f0;">return</span> 1;
    }
    <span style="color: #a020f0;">if</span> (head.x == fruit.x &amp;&amp; head.y == fruit.y) {
        next_fruit();
        eaten = 1;
        <span style="color: #a020f0;">switch</span> (snake.len) {
        <span style="color: #a020f0;">case</span> 10:
            delay -= 4;
            printf(<span style="color: #8b2252;">"Level 2\n"</span>);
            <span style="color: #a020f0;">break</span>;
        <span style="color: #a020f0;">case</span> 20:
            delay -= 4;
            printf(<span style="color: #8b2252;">"Level 3\n"</span>);
            <span style="color: #a020f0;">break</span>;
        <span style="color: #a020f0;">case</span> 30:
            delay /= 2;
            printf(<span style="color: #8b2252;">"Level 4\n"</span>);
            <span style="color: #a020f0;">break</span>;
        <span style="color: #a020f0;">case</span> 40:
            delay /= 2;
            printf(<span style="color: #8b2252;">"Level 5\n"</span>);
            <span style="color: #a020f0;">break</span>;
        }
    } <span style="color: #a020f0;">else</span> {
        pop_tail();
        eaten = 0;
    }
    push_head();
    <span style="color: #a020f0;">return</span> 0;
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">render</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #a020f0;">if</span> (snake.len &gt; 1) {
        draw_body();
    }
    <span style="color: #a020f0;">if</span> (eaten) {
        draw_fruit();
    } <span style="color: #a020f0;">else</span> {
        clear_tail();
    }
    draw_head();
    SDL_RenderPresent(renderer);
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">pop_tail</span>(<span style="color: #228b22;">void</span>)
{
    tail = snake.elems[snake.first];
    snake.first = (snake.first + 1) % QUEUE_SIZE;
    snake.len--;
    mat[tail.x][tail.y] = 0;
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">push_head</span>(<span style="color: #228b22;">void</span>)
{
    snake.elems[snake.last] = head;
    snake.last = (snake.last + 1) % QUEUE_SIZE;
    snake.len++;
    mat[head.x][head.y] = 1;
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_body</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #228b22;">SDL_Rect</span> <span style="color: #a0522d;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = body.x * TILE_SIZE;
    rect.y = body.y * TILE_SIZE;
    SDL_RenderCopy(renderer, snake_texture, <span style="color: #008b8b;">NULL</span>, &amp;rect);
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_head</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #228b22;">SDL_Rect</span> <span style="color: #a0522d;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = head.x * TILE_SIZE;
    rect.y = head.y * TILE_SIZE;
    SDL_RenderCopy(renderer, shead_texture, <span style="color: #008b8b;">NULL</span>, &amp;rect);
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">draw_fruit</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #228b22;">SDL_Rect</span> <span style="color: #a0522d;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = fruit.x * TILE_SIZE;
    rect.y = fruit.y * TILE_SIZE;
    SDL_RenderCopy(renderer, fruit_texture, <span style="color: #008b8b;">NULL</span>, &amp;rect);
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">clear_tail</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #228b22;">SDL_Rect</span> <span style="color: #a0522d;">rect</span>;
    rect.h = TILE_SIZE;
    rect.w = TILE_SIZE;
    rect.x = tail.x * TILE_SIZE;
    rect.y = tail.y * TILE_SIZE;
    SDL_RenderCopy(renderer, field_texture, <span style="color: #008b8b;">NULL</span>, &amp;rect);
    <span style="color: #b22222;">/* </span><span style="color: #b22222;">SDL_SetRenderDrawColor(renderer, 255, 255, 255, 255);</span>
<span style="color: #b22222;">       SDL_RenderFillRect(renderer, &amp;rect); </span><span style="color: #b22222;">*/</span>
}

<span style="color: #228b22;">void</span> <span style="color: #0000ff;">next_fruit</span>(<span style="color: #228b22;">void</span>)
{
    <span style="color: #a020f0;">do</span> {
        fruit.x = (fruit.x * 6 + 1) % (MAX_X + 1);
        fruit.y = (fruit.y * 16 + 1) % (MAX_Y + 1);
    } <span style="color: #a020f0;">while</span> (mat[fruit.x][fruit.y]);
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5">Обработка прерываний</h3>
</div>
<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6">Оверлеи</h3>
</div>
<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7">Разделяемые библиотеки</h3>
</div>
<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8">Компоновка</h3>
</div>
<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9">Системы сборки</h3>
</div>
<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10">Зависимости</h3>
</div>
</div>
<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5">Обратная инженерия</h2>
<div class="outline-text-2" id="text-5">
<ul class="org-ul">
<li><a href="https://vk.com/wall-54530371_157122">https://vk.com/wall-54530371_157122</a>
</li>
<li><a href="https://vk.com/wall-54530371_156890">https://vk.com/wall-54530371_156890</a>
</li>
</ul>
</div>
<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1">Дизассемблирование</h3>
<div class="outline-text-3" id="text-5-1">
<ul class="org-ul">
<li><a href="../lrn/asm/strip.html">Ищем main без отладочных символов</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2">Взлом нашего интепретатора команд</h3>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3">Детектирование отладчика</h3>
<div class="outline-text-3" id="text-5-3">
<div class="org-src-container">

<pre class="src src-asm">    <span style="color: #a020f0;">.file</span>   <span style="color: #8b2252;">"bbbb.c"</span>
    <span style="color: #a020f0;">.section</span>    .rodata
<span style="color: #0000ff;">frmt_str</span>:
    <span style="color: #a020f0;">.string</span> <span style="color: #8b2252;">"%x\n"</span>
<span style="color: #0000ff;">dbg_str</span>:
    <span style="color: #a020f0;">.string</span> <span style="color: #8b2252;">"debugger!"</span>

    <span style="color: #a020f0;">.text</span>
    <span style="color: #a020f0;">.globl</span>  main
    <span style="color: #a020f0;">.type</span>   main, @function
<span style="color: #0000ff;">main</span>:
    <span style="color: #a020f0;">.LFB0</span>:
    <span style="color: #a020f0;">.cfi_startproc</span>
    <span style="color: #a020f0;">leal</span>    4(<span style="color: #a0522d;">%esp</span>), <span style="color: #a0522d;">%ecx</span>
    <span style="color: #a020f0;">andl</span>    $-16, <span style="color: #a0522d;">%esp</span>
    <span style="color: #a020f0;">pushl</span>   -4(<span style="color: #a0522d;">%ecx</span>)
    <span style="color: #a020f0;">pushl</span>   <span style="color: #a0522d;">%ebp</span>
    <span style="color: #a020f0;">movl</span>    <span style="color: #a0522d;">%esp</span>, <span style="color: #a0522d;">%ebp</span>

    <span style="color: #a020f0;">pushl</span>   <span style="color: #a0522d;">%ecx</span>
    <span style="color: #a020f0;">subl</span>    $4, <span style="color: #a0522d;">%esp</span>
    <span style="color: #a020f0;">call</span>    lab
    <span style="color: #a020f0;">subl</span>    $8, <span style="color: #a0522d;">%esp</span>

    <span style="color: #a020f0;">pushl</span>   <span style="color: #a0522d;">%eax</span>
    <span style="color: #a020f0;">pushl</span>   $frmt_str
    <span style="color: #a020f0;">call</span>    printf
    <span style="color: #a020f0;">addl</span>    $16, <span style="color: #a0522d;">%esp</span>

    <span style="color: #a020f0;">nop</span>

    <span style="color: #a020f0;">movl</span>    -4(<span style="color: #a0522d;">%ebp</span>), <span style="color: #a0522d;">%ecx</span>
    <span style="color: #a020f0;">leave</span>
    <span style="color: #a020f0;">leal</span>    -4(<span style="color: #a0522d;">%ecx</span>), <span style="color: #a0522d;">%esp</span>
    <span style="color: #a020f0;">ret</span>
    <span style="color: #a020f0;">.cfi_endproc</span>
<span style="color: #0000ff;">end_main</span>:
    <span style="color: #a020f0;">.size</span>   main, .-main
    <span style="color: #a020f0;">.globl</span>  lab
    <span style="color: #a020f0;">.type</span>   lab, @function
<span style="color: #0000ff;">lab</span>:
    <span style="color: #a020f0;">.cfi_startproc</span>
    <span style="color: #a020f0;">pushl</span>   <span style="color: #a0522d;">%ebp</span>
    <span style="color: #a020f0;">movl</span>    <span style="color: #a0522d;">%esp</span>, <span style="color: #a0522d;">%ebp</span>
<span style="color: #0000ff;">prepare</span>:
    <span style="color: #a020f0;">xor</span> <span style="color: #a0522d;">%edx</span>, <span style="color: #a0522d;">%edx</span>
    <span style="color: #a020f0;">movl</span>    $main, <span style="color: #a0522d;">%esi</span>
    <span style="color: #a020f0;">movl</span>    $end_main, <span style="color: #a0522d;">%edi</span>
    <span style="color: #a020f0;">jmp</span> loop_check
<span style="color: #0000ff;">loop</span>:
    <span style="color: #a020f0;">movzbl</span>  (<span style="color: #a0522d;">%esi</span>), <span style="color: #a0522d;">%eax</span>
    <span style="color: #a020f0;">cmpb</span>    $0xCC, <span style="color: #a0522d;">%al</span>
    <span style="color: #a020f0;">jne</span>     over_dbg
<span style="color: #0000ff;">dbg</span>:
    <span style="color: #a020f0;">subl</span>    $12, <span style="color: #a0522d;">%esp</span>
    <span style="color: #a020f0;">pushl</span>   $dbg_str
    <span style="color: #a020f0;">call</span>    puts
    <span style="color: #a020f0;">addl</span>    $16, <span style="color: #a0522d;">%esp</span>
<span style="color: #0000ff;">over_dbg</span>:
    <span style="color: #a020f0;">add</span> <span style="color: #a0522d;">%eax</span>, <span style="color: #a0522d;">%edx</span>
    <span style="color: #a020f0;">inc</span> <span style="color: #a0522d;">%esi</span>
<span style="color: #0000ff;">loop_check</span>:
    <span style="color: #a020f0;">cmp</span>     <span style="color: #a0522d;">%esi</span>, <span style="color: #a0522d;">%edi</span>
    <span style="color: #a020f0;">jne</span> loop
<span style="color: #0000ff;">leave</span>:
    <span style="color: #a020f0;">movl</span>    <span style="color: #a0522d;">%edx</span>, <span style="color: #a0522d;">%eax</span>
    <span style="color: #a020f0;">leave</span>
    <span style="color: #a020f0;">ret</span>
    <span style="color: #a020f0;">.cfi_endproc</span>
    <span style="color: #a020f0;">.LFE1</span>:
    <span style="color: #a020f0;">.size</span>   lab, .-lab
    <span style="color: #a020f0;">.ident</span>  <span style="color: #8b2252;">"GCC: (Ubuntu 5.4.0-6ubuntu1~16.04.5) 5.4.0 20160609"</span>
    <span style="color: #a020f0;">.section</span>    .note.GNU-stack,<span style="color: #8b2252;">""</span>,@progbit
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-5-4" class="outline-3">
<h3 id="sec-5-4">Инструментирование кода</h3>
</div>
<div id="outline-container-sec-5-5" class="outline-3">
<h3 id="sec-5-5">Перехват вызовов</h3>
</div>
<div id="outline-container-sec-5-6" class="outline-3">
<h3 id="sec-5-6">Инструменты анализа систем</h3>
<div class="outline-text-3" id="text-5-6">
</div><div id="outline-container-sec-5-6-1" class="outline-4">
<h4 id="sec-5-6-1">ESIL</h4>
</div>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6">Построение высокоуровнего языка</h2>
<div class="outline-text-2" id="text-6">
</div><div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1">Минимальный Forth</h3>
<div class="outline-text-3" id="text-6-1">
<ul class="org-ul">
<li><a href="../lrn/forth/jonesforth.html">Минимальный Forth с нуля</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2">Объектная система</h3>
</div>
<div id="outline-container-sec-6-3" class="outline-3">
<h3 id="sec-6-3">Сборка мусора</h3>
</div>
<div id="outline-container-sec-6-4" class="outline-3">
<h3 id="sec-6-4">Выращиваем Lisp</h3>
</div>
<div id="outline-container-sec-6-5" class="outline-3">
<h3 id="sec-6-5">Построение отладчика-эмулятора</h3>
</div>
<div id="outline-container-sec-6-6" class="outline-3">
<h3 id="sec-6-6">Построение трассировщика</h3>
</div>
<div id="outline-container-sec-6-7" class="outline-3">
<h3 id="sec-6-7">Декомпиляция и автоматический анализ</h3>
<div class="outline-text-3" id="text-6-7">
<ul class="org-ul">
<li>Построение остаточной программы из заданной точки
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-8" class="outline-3">
<h3 id="sec-6-8">Суперкомпиляция</h3>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7">Типизация</h2>
<div class="outline-text-2" id="text-7">
</div><div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1">Сильная/слабая</h3>
</div>
<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2">Строгая/нестрогая</h3>
</div>
<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3">Вывод типов</h3>
</div>
</div>
<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8">Императивные парадигмы</h2>
<div class="outline-text-2" id="text-8">
</div><div id="outline-container-sec-8-1" class="outline-3">
<h3 id="sec-8-1">Процедурная</h3>
</div>
<div id="outline-container-sec-8-2" class="outline-3">
<h3 id="sec-8-2">модульная</h3>
</div>
<div id="outline-container-sec-8-3" class="outline-3">
<h3 id="sec-8-3">объектно-ориентированная</h3>
</div>
</div>
<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9">Механизмы абстракции</h2>
<div class="outline-text-2" id="text-9">
</div><div id="outline-container-sec-9-1" class="outline-3">
<h3 id="sec-9-1">Кольцевой буфер</h3>
</div>
<div id="outline-container-sec-9-2" class="outline-3">
<h3 id="sec-9-2">Потоки</h3>
</div>
<div id="outline-container-sec-9-3" class="outline-3">
<h3 id="sec-9-3">Очереди сообщений</h3>
</div>
<div id="outline-container-sec-9-4" class="outline-3">
<h3 id="sec-9-4">Машины состояний</h3>
</div>
<div id="outline-container-sec-9-5" class="outline-3">
<h3 id="sec-9-5">Модель взаимодействующих акторов</h3>
</div>
<div id="outline-container-sec-9-6" class="outline-3">
<h3 id="sec-9-6">Сигналы</h3>
</div>
</div>
<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10">Функциональное программирование</h2>
<div class="outline-text-2" id="text-10">
</div><div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1">Код как данные</h3>
</div>
<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2">Рекурсия</h3>
</div>
<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3">Функции высшего порядка</h3>
</div>
<div id="outline-container-sec-10-4" class="outline-3">
<h3 id="sec-10-4">Чистота</h3>
</div>
<div id="outline-container-sec-10-5" class="outline-3">
<h3 id="sec-10-5">Ленивость.</h3>
</div>
<div id="outline-container-sec-10-6" class="outline-3">
<h3 id="sec-10-6">Реактивность</h3>
<div class="outline-text-3" id="text-10-6">
<ul class="org-ul">
<li><a href="https://habrahabr.ru/company/infopulse/blog/338910/">https://habrahabr.ru/company/infopulse/blog/338910/</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11">Рантайм</h2>
<div class="outline-text-2" id="text-11">
</div><div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1">Менеджер памяти и умные указатели</h3>
</div>
<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2">Сборка мусора</h3>
</div>
<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3">Зеленые потоки</h3>
</div>
<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4">Супервайзинг</h3>
</div>
</div>
<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12">Логическое программирование</h2>
</div>
<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13">Пролог</h2>
</div>
<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14">Рефал</h2>
</div>
<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15">Forth</h2>
</div>
<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16">Визуальное программирование</h2>
<div class="outline-text-2" id="text-16">
</div><div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1">Дракон</h3>
</div>
</div>
<div id="outline-container-sec-17" class="outline-2">
<h2 id="sec-17">Написание языков и виртуальных машин</h2>
<div class="outline-text-2" id="text-17">
</div><div id="outline-container-sec-17-1" class="outline-3">
<h3 id="sec-17-1">Создание компилятора</h3>
</div>
<div id="outline-container-sec-17-2" class="outline-3">
<h3 id="sec-17-2">Написание среды времени выполнения</h3>
</div>
</div>
<div id="outline-container-sec-18" class="outline-2">
<h2 id="sec-18">Распределенные системы</h2>
<div class="outline-text-2" id="text-18">
</div><div id="outline-container-sec-18-1" class="outline-3">
<h3 id="sec-18-1">Топология сетей</h3>
<div class="outline-text-3" id="text-18-1">
<ul class="org-ul">
<li><a href="https://habrahabr.ru/post/340626/">https://habrahabr.ru/post/340626/</a>
</li>
</ul>
</div>
</div>
</div>
<div id="outline-container-sec-19" class="outline-2">
<h2 id="sec-19">Самообучающиеся системы</h2>
<div class="outline-text-2" id="text-19">
</div><div id="outline-container-sec-19-1" class="outline-3">
<h3 id="sec-19-1">Линейная регрессия</h3>
</div>
<div id="outline-container-sec-19-2" class="outline-3">
<h3 id="sec-19-2">Кластеризация</h3>
</div>
<div id="outline-container-sec-19-3" class="outline-3">
<h3 id="sec-19-3">Деревья решений</h3>
</div>
<div id="outline-container-sec-19-4" class="outline-3">
<h3 id="sec-19-4">Нейронные сети и их обучение</h3>
<div class="outline-text-3" id="text-19-4">
<ul class="org-ul">
<li><a href="https://geektimes.ru/post/84015/">https://geektimes.ru/post/84015/</a>
</li>
<li><a href="https://habrahabr.ru/post/312450/">https://habrahabr.ru/post/312450/</a>
</li>
<li><a href="https://proglib.io/p/neural-nets-guide/">https://proglib.io/p/neural-nets-guide/</a>
</li>
<li><a href="https://proglib.io/p/intro-to-deep-learning/">https://proglib.io/p/intro-to-deep-learning/</a>
</li>
<li><a href="https://habrahabr.ru/company/neurodatalab/blog/336218/">https://habrahabr.ru/company/neurodatalab/blog/336218/</a>
</li>
</ul>
</div>
</div>
<div id="outline-container-sec-19-5" class="outline-3">
<h3 id="sec-19-5">Динамическое программирование</h3>
</div>
<div id="outline-container-sec-19-6" class="outline-3">
<h3 id="sec-19-6">Генетическое программирование</h3>
</div>
</div>
</div>
</body>
</html>
