// -*- mode: closure-template-html; fill-column: 140 -*-

{namespace tpl}

{template root}
    <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">{\n}
    <html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">{\n}
        <head>{\n}
	        <title>{$headtitle}</title>{\n}
	        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />{\n}
	        <link rel="stylesheet" type="text/css" media="screen" href="/css/style.css" />{\n}
	        <link rel="Shortcut Icon" type="image/x-icon" href="/img/favicon.ico" />{\n}
            <script type="text/javascript" src="/js/jquery-1.5.2.min.js"></script>
            <script type="text/javascript" src="/js/comment.js"></script>
        </head>{\n}
        <body id="top">{\n}
            {$content | noAutoescape}{\n}
        </body>{\n}
    </html>{\n}
{/template}

{template navelt}
    <li><a href="{$link}">{$title}</a></li>
{/template}

{template sectelt}
    <li class="{$level}">★<a href="#{$anchor}">{$title}</a>
{/template}

{template stat}
  {literal}
    <div style="margin-top: -29px; margin-left: 150px;">
        <!--Google Analitics -->
        <script type="text/javascript">
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-20801780-1']);
            _gaq.push(['_trackPageview']);
            (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
            })();
        </script>
        <!--Google Analitics -->

        <!--LiveInternet counter-->
        <script type="text/javascript">
            <!--
                 document.write("<a href='http://www.liveinternet.ru/click' "+
                 "target=_blank><img src='//counter.yadro.ru/hit?t24.5;r"+
                 escape(document.referrer)+((typeof(screen)=="undefined")?"":
                 ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
                 screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
                 ";h"+escape(document.title.substring(0,80))+";"+Math.random()+
                 "' alt='' title='LiveInternet: показано число посетителей за"+
                 " сегодня' "+
                 "border='0' width='88' height='15'><\/a>")
       //-->
        </script>
        <!--/LiveInternet-->
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <!-- Yandex.Metrika informer -->
        <a href="http://metrika.yandex.ru/stat/?id=3701317&amp;from=informer"
           target="_blank"><img src="//bs.yandex.ru/informer/3701317/1_0_9F9F9FFF_7F7F7FFF_0_pageviews"
                                width="80" height="15" alt="Яндекс.Метрика" border="0" /></a>
        <!-- /Yandex.Metrika informer -->

        <!-- Yandex.Metrika counter -->
        <div style="display:none;"><script type="text/javascript">
            (function(w, c) {
            (w[c] = w[c] || []).push(function() {
            try {
            w.yaCounter3701317 = new Ya.Metrika(3701317);
            yaCounter3701317.clickmap(true);
            yaCounter3701317.trackLinks(true);
            } catch(e) {}
            });
            })(window, 'yandex_metrika_callbacks');
        </script></div>
        <script src="//mc.yandex.ru/metrika/watch.js" type="text/javascript" defer="defer"></script>
        <noscript><div style="position:absolute"><img src="//mc.yandex.ru/watch/3701317" alt="" /></div></noscript>
        <!-- /Yandex.Metrika counter -->

    </div>
    {/literal}
{/template}

{template base}
    <div id="center">
        <div class="col1 left">
            <a id="logo" href="/">
                <img src="http://www.gravatar.com/avatar/d8a986606b9d5e4769ba062779e95d9f?s=45"
                     style="border: 1px solid #7F7F7F"/>
            </a>
            <ul id="nav">
                {foreach $elt in $navpoints}
                    {call navelt data="$elt" /}
                {/foreach}
            </ul>
        </div>
        {$content |noAutoescape}
        <div class="clear">.</div>
    </div>
    <div id="footer">
        <p>
            <a href="/about">About</a> |
            <a href="/contacts">Contacts</a>
            {$stat |noAutoescape}
        </p>
    </div>
{/template}

{template main}
    <div class="col3 right">
        <h1 style="margin: 0">{$title}</h1>
        <div class="col4 left">
            <p class="alert" style="width: 250px; color: red; font-size: 18px;"><strong>Что здесь происходит?</strong> </p>
            <ul style="color: #feffb8">

                <li><span style="color: blue">★</span><a href="/about"><b> С Новым 2013 Годом!</b></a></li>

                <br />

                <li><span style="color: green">★</span> Не лиспом единым.. На новом проекте возникла интересная возможность
                познакомиться с еще одним функциональным языком программирования - Erlang.

                <br /><br />

                Сравнивая с Common Lisp, можно сказать, что он не настолько изменяет мышление программиста, пришедшего из традиционных
                языков. Благодаря этому освоение проходит быстрее и проще, но и удивительного существенно меньше. Однако в целом, Erlang
                весьма неплохо сбалансирован и как язык, и с точки зрения инфраструктуры.

                </li>

                <br />

                <li><span style="color: green">★</span> В данный момент я исследую возможности контекстно-ориентированного программирования с
                использованием Common Lisp. Метод проходит опробацию на текущем проекте, над которым я работаю. Пока результаты весьма
                оптимистичные!</li>

                <br />


                <li><span style="color: blue">★</span><a href="/about"><b> С Новым 2012 Годом!</b></a></li>

                <br />

                <li><span style="color: blue">★</span> На новом проекте мне удалось отказаться от проприетарного сервиса Dropbox в пользу
                  версионирования, основанного на <a href="http://ru.wikipedia.org/wiki/Git" rel="nofollow">GIT</a>.  <br /><br />
                  Распределенность, свободность и большая отказоустойчивость позволили реализовать обновления и разворачивание системы на
                  боевых серверах надежнее и проще. Восстановление после сбоев стало гарантированным и очень
                  быстрым. Доказано: <a href="http://ru.wikipedia.org/wiki/Git">GIT</a> способны легко понять не только программисты, но и
                  аналитики, верстальщики и контент-менеджеры.
                </li>

                <br />

                <li><span style="color: blue">★</span>Новый проект на
                Common Lisp - система организации тендеров,
                связывающая застройщиков и поставщиков строительных
                ресурсов. Новая архитектура, в основу которой положен
                специализированный DSL и генерация кода по нему.</li>

                <br />

                <li><span style="color: blue">★</span> Я покинул проект компании "Цифры" (320-8080.ru) из-за отсутствия финансовых
                  перспектив. Теперь проект развивает мой ученик, оставшийся работать в компании. Исходные коды интернет-магазина
                  <a href="https://github.com/rigidus/cl-eshop" rel="nofollow">опубликованы</a> под лиценизией GPL v3 на github.com</li>

                <br />

                <li><span style="color: red">★</span> Common Lisp -
                    один из самых удобных языков (в том числе и) для
                    веб-программирования. Этот сайт тому подтверждение.</li>

                <br />

                <li><span style="color: red">★</span> <a href="http://habrahabr.ru/blogs/webdev/111365/" rel="nofollow">Первый пост</a> (про
                лисп, конечно же :) на хабре</li>

                <br />

                <li><span style="color: red">★</span> Org-mode. Вся
                жизнь внутри Емакса: список дел, работа, покупки,
                и средство для подготовки документов в
                удобном для автомтической обработки формате. </li>

                <br />

                <li><span style="color: blue">★</span><a href="/about"><b> С Новым 2011 Годом!</b></a></li>

                <br />

                <li><span style="color: green">★</span> Выложил <a href="https://github.com/rigidus/cl-eshop" rel="nofollow">исходный код
                    рабочего проекта</a> на github. OpenSource грядет!</li>

                <br />

                <li><span style="color: green">★</span>
                    <a href="http://dropbox.com" rel="nofollow">Dropbox</a> in production! Теперь контент-менеджеры удобно работают с
                    данными одновременно, а версионирование страхует их от ошибок.</li>
            </ul>
        </div>
        <div class="col4 left">
            <p class="alert" style="width: 250px; color: red; font-size: 18px;">
                <strong>Кто все эти люди?</strong>
            </p>
            Пока это всего лишь я, Rigidus, собираю здесь все свои
            проекты, статьи и руководства.

            <p class="alert" style="width: 250px; color: red; font-size: 18px;">
                <strong>Что дальше будет?</strong>
            </p>
            В ближайшее время я добавлю несколько актуальных своих
            работ. Будут дописываться всяческие модули, сервисы и
            документация.

            <p class="alert" style="width: 250px; color: red; font-size: 18px;">
                <strong>Последние обновления</strong>
            </p>

            <ul>

              <li><span style="color: red">★</span> Выложил пару статей посвященных объектно-ориентированному подходу и его
                альтернативам:
                <div style="padding-left: 10px;">
                  <ul style="margin: 0; padding: 0">
                    <li style="margin: 0; padding: 0">
                      <span style="color: #aedaf1">☑</span>
                      <a href="/articles/oop-polyethylene"><small>ООП. Оборачиваем ошибки полиэтиленом</small></a>
                    </li>
                    <li style="margin: 0; padding: 0">
                      <span style="color: #aedaf1">☑</span>
                      <a href="/articles/oo-dispatch"><small>Нетрадиционно ориентированная диспетчеризация</small></a>
                    </li>
                  </ul>
                </div>
                в которых постарался максимально подробно рассмотреть возможности, о которых не известно широкой аудитории поклонников
                "паттернов проектирования"</li>

              <br />

              <li><span style="color: red">★</span> Начинаю выкладывать в "<a href="/aliens/">Материалы</a>"
                подробный разбор системы ASDF (в 20 частях), который сделал
                linkfly.</li>

            </ul>

        </div>
        <div class="divider">.</div>
        {$links |noAutoescape}
    </div>
{/template}

{template onlisp}
В настоящее время групп энтузиастов начала работу над переводом замечательной книги Пола Грэма \"On Lisp\"<br /></br>
Вы можете помочь в улучшении этого материала путем вычитки переведенных глав или присоединившись к переводу текста.<br /></br>
После завершения перевода он будет опубликован здесь. Переведенные и непереведенные главы размещены на гитхабе: <br /></br>
<a href="https://github.com/rigidus/onlisp">https://github.com/rigidus/onlisp</a><br /></br>
Присоединяйтесь к команде переводчиков!
{/template}

{template default}
    <div class="col3 right">
        <h1>{$title}</h1>
        <div class="col2 right" id="guideNav">
            <ul>
                {foreach $elt in $sections}
                    {call sectelt data="$elt" /}
                {/foreach}
            </ul>
        </div>
        {$content |noAutoescape}

        <div class="divider">.</div>
        {$links |noAutoescape}
        <ul id="share">
            {foreach $elt in $navpoints}
                {call navelt data="$elt" /}
            {/foreach}
        </ul>
    </div>
{/template}


{template li}
    <li>
        <span style="color: {$color}">{$star}</span>
        <a href="{$link}">{$title}</a>
    </li>
{/template}


{template comments}
  <div class="comment-action" id="comment-new" onclick="comment_new();">написать комментарий</div>
  <div class="editor" style="display:none">
    <form id="comment-form" autocomplete="off" method="post">
      <input type="hidden" name="parent" value="0" id="comment-parent" />
      <textarea cols="65" rows="5" name="message"  id="comment-message"></textarea>
      <div class="comment-action" onclick="comment_send();">отправить</div>
    </form>
  </div>
  <div style="display: none">
    {call comment /}
  </div>
  <div>
    {foreach $comment in $comments}
      {call comment data="$comment" /}
    {/foreach}
  </div>
{/template}

{template comment}
  <div id="msg{$id}" style="margin: 10px 10px 10px {$level}0px; background-color: #444444; padding: 5px;">
    <div class="comment-msg">
      {$id} {$msg}
    </div>
    <div comment-id="{$id}" level="{$level}">
      <span class="comment-action comment-reply">ответить</span> |
      <span class="comment-action comment-del">удалить</span> |
      <!-- span class="comment-action comment-edit">редактировать</span> | -->
      <span class="comment-action comment-expand-or-collapse">развернуть</span> |
    </div>
  </div>
{/template}


{template controlbtn}
  <form method="POST">
    <input type="submit" name="{$name}" value="{$value}" style="background: {$background}" />
  </form>
{/template}

{template controltbl}
  <form method="POST">
    <table>
      <tr>
        <td>Red &nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td>

          <table cellspacing="2" cellpadding="1">
            <tr>
              <td style="background: red">On</td>
              <td style="background: red">
                <input type="radio" name="red" value="on" {$red} />
              </td>
            </tr>
            <tr>
              <td style="background: darkred">Off</td>
              <td style="background: darkred">
                <input type="radio" name="red" value="off" {$darkred} />
              </td>
            </tr>
          </table>

        </td>
      </tr>

      <tr>
        <td>Green &nbsp;&nbsp;&nbsp;&nbsp;</td>
        <td>

          <table cellspacing="2" cellpadding="1">
            <tr>
              <td style="background: lightgreen">On</td>
              <td style="background: lightgreen">
                <input type="radio" name="green" value="on" {$lightgreen} />
              </td>
            </tr>
            <tr>
              <td style="background: green">Off</td>
              <td style="background: green">
                <input type="radio" name="green" value="off" {$green} />
              </td>
            </tr>
          </table>

        </td>
      </tr>

    </table>
    <input type="submit" value="Send" />
  </form>
{/template}
